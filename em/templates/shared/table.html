{% extends "shared/tablepage.html" %}

{% load sorting_tags %}
{% load crispy_forms_tags %}


{% block table %}

{% auto_sort tuples %}

{% if filter_form != None %}
  <div class="filter-form-container">
    <form class="filter-form" action="" method="get">
      <div class="filter-form-inner">
        {% crispy filter_form %}
        <button class="btn btn-default">Cancel</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
{% endif %}

<div class="row">

  {% if filter_form != None %}
    <div id="filter-button-container">
      <button class="btn btn-default">Filter</button>
    </div>
  {% endif %}

  {% if supports_new %}
    <div id="create-button-container">
      <a class="btn btn-success" href="/{{ object_type }}/create">New</a>
    </div>
  {% endif %}

</div>

<div class="row">
  <!-- div class="clear"></div -->

  <table cellspacing="0" summary="{{ table_summary }}"
         class="table table-striped table-bordered table-hover">
    <thead>
          <tr>
              <td>Actions</td>
              {% block columnheaders %}{% endblock %}
          </tr>
    </thead>
    <tbody>
          {% for tuple in tuples %}
          <tr>
            {% for item in tuple %}
              {% if forloop.counter0 == 0 %}
                <td>
                  <a href="/{{ object_type }}/{{item}}"
                     class="btn btn-default btn-xs">
                    View
                  </a>
                {% if supports_edit %}
                    <a href="/{{ object_type }}/{{item}}/edit"
                       class="btn btn-primary btn-xs" title="Edit">
                      Edit
                    </a>
                {% endif %}

                {% if supports_delete %}
                    <a href="javascript:confirmDelete('/{{ object_type }}/{{item}}/delete/');" class="btn btn-danger btn-xs">
                      Delete
                    </a>
                {% endif %}
                </td>
              {% else %}
                <td>{{ item }}</td>
              {% endif %}
            {% endfor %}
          </tr>
          {% endfor %}
    </tbody>

  </table>


</div>

{% endblock %}
