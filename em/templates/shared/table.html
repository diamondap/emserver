{% extends "shared/tablepage.html" %}

{% load sorting_tags %}
{% load crispy_forms_tags %}


{% block table %}

{% auto_sort tuples %}

{% if filter_form != None %}
  <div class="filter-form-container">
    <form class="filter-form" action="" method="get">
      <div class="filter-form-inner">
        {% crispy filter_form %}
        <button class="btn btn-default">Cancel</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
{% endif %}

<div class="table-container-inner">

  {% if supports_new %}
    <div class="create-new-container">
      <a class="btn btn-success" href="/{{ object_type }}/create">New</a>
    </div>
  {% endif %}

  {% if filter_form != None %}
    <div class="filter-button-container">
      <button class="btn btn-default">Filter</button>
    </div>
  {% endif %}
  <div class="clear"></div>

  <table cellspacing="0" summary="{{ table_summary }}"
         class="table table-striped table-bordered table-hover">
    <thead>
          <tr>
              <td>Details</td>
              {% if supports_edit %}
                      <td>Edit</td>
              {% endif %}
              {% if supports_delete %}
                      <td>Delete</td>
              {% endif %}
            {% block columnheaders %}
            {% endblock %}
          </tr>
    </thead>
    <tbody>
          {% for tuple in tuples %}
          <tr>
            {% for item in tuple %}
              {% if forloop.counter0 == 0 %}
                <td><a href="/{{ object_type }}/{{item}}">Details</a></td>
                {% if supports_edit %}
                  <td><a href="/{{ object_type }}/{{item}}/edit">Edit</a></td>
                {% endif %}

                {% if supports_delete %}
                  <td><a href="javascript:confirmDelete('/{{ object_type }}/{{item}}/delete/');">Delete</a></td>
                {% endif %}

              {% else %}
                <td>{{ item }}</td>
              {% endif %}
            {% endfor %}
          </tr>
          {% endfor %}
    </tbody>

  </table>


</div>

{% endblock %}
